<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
</head>
<body>
    <table id="tbl">
        <tr>
            <td row="0" col="0" style="border-bottom:solid; border-right:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="0" col="1" style="border-bottom:solid; border-right:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="0" col="2" style="border-bottom:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
        </tr>
        <tr>
            <td row="1" col="0" style="border-bottom:solid; border-right:solid; border-top:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="1" col="1" style="border-bottom:solid; border-right:solid; border-top:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="1" col="2" style="border-bottom:solid; border-top:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
        </tr>
        <tr>
            <td row="2" col="0" style=" border-top:solid; border-right:solid; "  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="2" col="1" style=" border-top:solid; border-right:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
            <td row="2" col="2" style="border-top:solid; border-left:solid;"  width="300" height="300" onclick="PlayerTurn(this);">
                
            </td>
        </tr>
    </table>

    <script>
        var tbl = document.getElementById("tbl");
        var turn = true; // is it the player's turn?
        var b = [["","",""],
                 ["","",""],
                 ["","",""]];
       

        function Put(where, a) { // fun that puts X or O in a td 
            var img = document.createElement("img");
            img.setAttribute("src", "Images/"+ a +".png");
            img.setAttribute("width", 300);
            img.setAttribute("height", 300);
            where.appendChild(img);
            b[where.getAttribute("row")][where.getAttribute("col")] = a;
            console.log(b);
            
        }
        
        function IsWin(who) { // fun that checks if who (X or O) won
            
            for (var j = 0; j < 3; j++) {
                if (b[j][0] == who && b[j][1] == who && b[j][2] == who) {
                    alert(who + " won!");
                    return true;
                }
                    
                
            }

            for (var j = 0; j < 3; j++) {
                if (b[0][j] == who && b[1][j] == who && b[2][j] == who) {
                    alert(who + " won!");
                    return true;
                }
                    
               
            }

            
            if ((b[0][0] == who && b[1][1] == who && b[2][2] == who) || (b[0][2] == who && b[1][1] == who && b[2][0] == who)) {
                alert(who + " won!");
                return true;
            }
            return false;
        }
            

        function PlayerTurn(td) { // fun that gets a td (fron onclick event). if the td has no children (img of X or O) it puts X (the player's char). if the player wins, returns true, if not, calls for the start of the computer's turn.
            if (turn && td.children.length == 0) {
                Put(td, "X");
                turn = false;
                if (IsWin("X"))
                    return true;
                CompTurn();
            }
            else
                alert("wait for your turn/not valid placing")
        }

        
        function CompTurn() { // the fun that handles the computer's turn. it choose a random place on the board to put its char (O) on. returns true if comp won
            var c = 0;
            var a = [];
            for (var i = 0; i < 3; i++) {
                for (var j = 0; j < 3; j++) {
                    if (tbl.rows[i].cells[j].children.length == 0) {
                        a[c] = i * 10 + j;
                        c++;
                    }
                }
            }
            if (c == 0) {
                alert("Draw! you actually could'nt win against a random Tic Tac Toe algorithm")
                return true;
            }
            var rnd = Math.floor((Math.random() * (c - 1)) + 0);
            Put(tbl.rows[Math.floor(a[rnd] / 10)].cells[a[rnd] % 10], "O");
            if (IsWin("O"))
                return true;
            turn = true;
        }
    </script>
</body>
</html>